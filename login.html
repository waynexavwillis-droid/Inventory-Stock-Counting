<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign in</title>
  <style>
    body {margin:0; min-height:100vh; display:grid; place-items:center; font-family:system-ui, Arial;}
    .card {width:min(420px, 92vw); border:1px solid #e5e7eb; border-radius:12px; padding:24px; box-shadow:0 6px 20px rgba(0,0,0,.06)}
    h1 {margin:0 0 4px}
    .muted{color:#667085; font-size:14px; margin:0 0 16px}
    label{font-size:14px; display:block; margin:.5rem 0 .25rem}
    input{width:100%; padding:10px 12px; border:1px solid #cbd5e1; border-radius:8px; font-size:16px}
    button{margin-top:14px; width:100%; padding:10px 12px; border:0; border-radius:8px; background:#0B2447; color:#fff; font-size:16px; cursor:pointer}
    .err{color:#b91c1c; font-size:14px; min-height:18px; margin-top:8px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Inventory Login</h1>
    <p class="muted">Enter the password to continue.</p>

    <form id="login-form">
      <label for="pw">Password</label>
      <input id="pw" type="password" autocomplete="current-password" required />
      <button type="submit">Sign in</button>
      <div id="err" class="err"></div>
    </form>
  </div>

  <script>
    // Change this to your own password *hash* (see note below).
    // Default password = admin123
    const STORED_SHA256_HEX = "240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9";

    async function sha256Hex(text){
      const enc = new TextEncoder().encode(text);
      const hash = await crypto.subtle.digest('SHA-256', enc);
      return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,'0')).join('');
    }

    document.getElementById('login-form').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const pw = document.getElementById('pw').value;
      const hex = await sha256Hex(pw);
      if(hex === STORED_SHA256_HEX){
        localStorage.setItem('auth_v1','ok');
        // optional: timestamp
        localStorage.setItem('auth_time', String(Date.now()));
        location.href = 'app.html';
      } else {
        document.getElementById('err').textContent = 'Incorrect password.';
      }
    });

    // If already authed, skip login
    if(localStorage.getItem('auth_v1') === 'ok'){
      location.replace('app.html');
    }
  </script>
</body>
</html>
